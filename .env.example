# Kiro-Cloud-Auth  - 环境变量配置
# 复制此文件为 .env 并修改配置

# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_USER=open_ai
DB_PASSWORD=your_password
DB_NAME=open_kiro_db

# 服务配置
SERVER_ID=server-1

# OpenAI 兼容 API 默认授权密钥
DEFAULT_API_KEY=Alf123456

# Web 后台登录密码（留空则不启用登录验证）
WEB_LOGIN_PASSWORD=admin123

# Electron 客户端认证密钥（用于 HMAC 签名验证）
ELECTRON_AUTH_SECRET=kiro-electron-secret-2024-leon

# ============ 性能调优（12核12G 服务器推荐配置）============

# 数据库连接池大小（默认 100，高并发可设 200）
DB_POOL_SIZE=100

# 集群 Worker 数量（默认使用全部 CPU 核心，12核设 12）
CLUSTER_WORKERS=12

# Redis 配置（可选，用于多实例共享账号池）
REDIS_HOST=localhost
REDIS_PORT=6379

# 禁用 Token 自动刷新（多实例部署时只需一个实例开启）
# DISABLE_TOKEN_REFRESH=true

# 是否在刷新 Token 时自动绑定机器码（默认 false）
# 设为 true 时，如果账号没有绑定机器码，会自动创建并绑定
# 设为 false（默认）时，只刷新已绑定机器码的账号，未绑定的账号会被跳过
AUTO_BIND_MACHINE_ID=false

# 是否在刷新 Token 后自动刷新账号的使用量和订阅信息（默认 false）
# 设为 true 时，Token 刷新成功后会等待 1-3 秒，然后自动调用 API 获取最新的使用量和订阅信息
# 设为 false（默认）时，只刷新 Token，不获取使用量信息
AUTO_REFRESH_USAGE_AFTER_TOKEN=false

DEFAULT_HEADER_VERSION=2
