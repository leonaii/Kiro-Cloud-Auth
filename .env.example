# Kiro-Cloud-Auth 环境变量配置
# 复制此文件为 .env 并修改配置

# ============ 数据库配置 ============
DB_HOST=localhost                    # 默认值: localhost，作用: 数据库主机地址
DB_PORT=3306                         # 默认值: 3306，作用: 数据库端口
DB_USER=open_ai                      # 默认值: open_ai，作用: 数据库用户名
DB_PASSWORD=your_password            # 默认值: 无，作用: 数据库密码
DB_NAME=open_kiro_db                 # 默认值: open_kiro_db，作用: 数据库名称
DB_POOL_SIZE=100                     # 默认值: 100，作用: 数据库连接池大小

# ============ 服务配置 ============
SERVER_ID=server-1                   # 默认值: server-1，作用: 服务器实例标识
CLUSTER_WORKERS=12                   # 默认值: CPU核心数，作用: 集群Worker数量

# ============ 认证配置 ============
DEFAULT_API_KEY=Alf123456            # 默认值: Alf123456，作用: OpenAI兼容API授权密钥
WEB_LOGIN_PASSWORD=admin123          # 默认值: 空，作用: Web后台登录密码（留空不启用验证）
ELECTRON_AUTH_SECRET=kiro-electron-secret-2024-leon  # 默认值: 无，作用: Electron客户端HMAC签名密钥

# ============ Redis配置（可选）============
REDIS_HOST=localhost                 # 默认值: localhost，作用: Redis主机地址
REDIS_PORT=6379                      # 默认值: 6379，作用: Redis端口

# ============ Token刷新配置 ============
DISABLE_TOKEN_REFRESH=false          # 默认值: false，作用: 禁用Token自动刷新（多实例部署时只需一个实例开启）
AUTO_BIND_MACHINE_ID=false           # 默认值: false，作用: 刷新Token时自动绑定机器码
AUTO_REFRESH_USAGE_AFTER_TOKEN=false # 默认值: false，作用: 刷新Token后自动获取使用量信息
TOKEN_REFRESH_ACTIVE_POOL_ONLY=true  # 默认值: true，作用: 只刷新活跃池账号的Token
WORKING_HOURS=7-24                   # 默认值: 7-24，作用: 工作时段（北京时间24小时制，格式：起始小时-结束小时）
SKIP_REFRESH_ON_HOLIDAY=false        # 默认值: false，作用: 非工作日是否跳过Token刷新（true=非工作日不刷新）

# ============ 请求头配置 ============
DEFAULT_HEADER_VERSION=2             # 默认值: 2，作用: 默认请求头版本（1或2）

# ============ 活跃池/冷却池配置 ============
ACTIVE_POOL_ENABLED=true             # 默认值: true，作用: 启用活跃池机制
ACTIVE_POOL_LIMIT=5                  # 默认值: 5，作用: 活跃池账号上限
ACTIVE_POOL_ERROR_THRESHOLD=5        # 默认值: 5，作用: 错误累计阈值（超过后移入冷却池）
ACTIVE_POOL_COOLING_PERIOD_MS=600000 # 默认值: 600000，作用: 冷却时间（毫秒，10分钟）
MAX_ACCOUNT_RETRIES=5                # 默认值: 5，作用: 账号切换最大重试次数

# ============ Claude API配置 ============
ENABLE_CLAUDE_API=true               # 默认值: true，作用: 启用Claude兼容API
