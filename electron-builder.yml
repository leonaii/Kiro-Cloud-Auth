appId: com.kiro.cloud
productName: Kiro-Cloud-Auth
directories:
  buildResources: build

# ğŸ”¥ æœ€å¤§å‹ç¼©
compression: maximum

# ğŸ”¥ ç™½åå•æ¨¡å¼ï¼šåªæ‰“åŒ…å¿…è¦æ–‡ä»¶ï¼ˆäº‘ç«¯æ¨¡å¼ä¸éœ€è¦æ¸²æŸ“è¿›ç¨‹ä»£ç ï¼‰
files:
  # ä¸»è¿›ç¨‹ç¼–è¯‘è¾“å‡º
  - out/main/**/*
  # preload è„šæœ¬
  - out/preload/**/*
  # package.jsonï¼ˆå¿…éœ€ï¼‰
  - package.json
  # æ’é™¤æ‰€æœ‰å…¶ä»–æ–‡ä»¶
  - '!src/**/*'
  - '!server/**/*'
  - '!dist/**/*'
  - '!dist-web/**/*'
  - '!release/**/*'
  - '!src-tauri/**/*'
  - '!.agent/**/*'
  - '!.kiro/**/*'
  - '!.vscode/**/*'
  - '!out/renderer/**/*'
  - '!**/*.map'
  - '!**/*.ts'
  - '!**/*.tsx'
  - '!**/*.md'
  - '!**/node_modules/**/*.map'
  - '!**/node_modules/**/*.d.ts'
  - '!**/node_modules/**/README*'
  - '!**/node_modules/**/CHANGELOG*'
  - '!**/node_modules/**/test/**'
  - '!**/node_modules/**/tests/**'
  - '!**/node_modules/**/__tests__/**'
  - '!**/node_modules/**/docs/**'
  - '!**/node_modules/**/example/**'
  - '!**/node_modules/**/examples/**'

asarUnpack:
  - resources/*.ico

extraResources:
  - from: resources/kiro-high-resolution-logo-transparent.ico
    to: kiro-high-resolution-logo-transparent.ico

protocols:
  name: Kiro-Cloud-Auth
  schemes:
    - kiro

copyright: Copyright 2025 Kiro

# å…³é”®ä¼˜åŒ–å’Œå®‰å…¨åŠ å›º
asar: true
# æ³¨æ„: asarIntegrity åœ¨ electron-builder 25.x ä¸­ä¸å¯ç”¨ï¼Œéœ€è¦å‡çº§åˆ°æ›´æ–°ç‰ˆæœ¬
# å½“å‰é€šè¿‡ä»£ç æ··æ·†æä¾›ä¿æŠ¤
npmRebuild: false
buildDependenciesFromSource: false  # ğŸ”¥ ä¸ä»æºç æ„å»º
# ğŸ”¥ å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–
nodeGypRebuild: false  # ä¸é‡æ–°ç¼–è¯‘åŸç”Ÿæ¨¡å—
electronLanguages:  # åªæ‰“åŒ…ä¸­æ–‡å’Œè‹±æ–‡è¯­è¨€åŒ…
  - zh-CN
  - en-US

win:
  executableName: kiro-cloud-auth
  icon: resources/kiro-high-resolution-logo-transparent.ico
  legalTrademarks: Copyright 2025 Kiro-Cloud-Auth
  signAndEditExecutable: false
  sign: null
  verifyUpdateCodeSignature: false
  artifactName: Kiro-Cloud-Auth-${version}-${arch}-setup.${ext}
  target:
    - target: nsis
      arch:
        - x64

portable:
  artifactName: Kiro-Cloud-Auth-${version}-portable.${ext}
  unicode: false
  unpackDirName: Kiro-Cloud-Auth

nsis:
  artifactName: Kiro-Cloud-Auth-${version}-${arch}-setup.${ext}
  shortcutName: Kiro-Cloud-Auth
  uninstallDisplayName: Kiro-Cloud-Auth
  createDesktopShortcut: always
  oneClick: false
  allowToChangeInstallationDirectory: true
  perMachine: false
  runAfterFinish: true  # ğŸ”¥ å®‰è£…åç«‹å³è¿è¡Œ
  installerIcon: resources/kiro-high-resolution-logo-transparent.ico
  uninstallerIcon: resources/kiro-high-resolution-logo-transparent.ico
  # NSIS ä¼˜åŒ–
  packElevateHelper: false
  differentialPackage: false
  # ğŸ”¥ å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–
  deleteAppDataOnUninstall: false  # å¸è½½æ—¶ä¿ç•™æ•°æ®

mac:
  entitlementsInherit: build/entitlements.mac.plist
  extendInfo:
    - NSCameraUsageDescription: Application requests access to the device's camera.
    - NSMicrophoneUsageDescription: Application requests access to the device's microphone.
    - NSDocumentsFolderUsageDescription: Application requests access to the user's Documents folder.
    - NSDownloadsFolderUsageDescription: Application requests access to the user's Downloads folder.
  notarize: false

dmg:
  artifactName: ${name}-${version}-${arch}.${ext}

linux:
  target:
    - AppImage
    - snap
    - deb
  maintainer: electronjs.org
  category: Utility

appImage:
  artifactName: ${name}-${version}-${arch}.${ext}

snap:
  publish:
    provider: generic
    url: https://example.com/auto-updates

publish:
  provider: github
  owner: kiro
  repo: Kiro-Cloud-Auth
